<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <title>Powered by SaleMove</title>

  <link rel="stylesheet" href="stylesheets/styles.css" />
  <link rel="stylesheet" href="stylesheets/pygment_trac.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<div class="wrapper">
  <header>
  </header>
<section>



<h1 id="salemove-public-api">SaleMove public API.</h1>
<p>Welcome to SaleMove public API documentation!</p>

<h1 id="api-types">API types</h1>

<p>SaleMove provides number of APIs to be used in both the visitors’ and the operators’ browsers.</p>

<p>The visitor side API endpoints can be accessed directly through the visitor browser. The API includes both public REST endpoints and javascript API. The REST endpoints require the visitor session id to be sent along with the requests for authentication purposes.</p>

<p>The operator side API includes a set of public REST endpoints that can be accessed by an operator who has been granted with manager privileges. In order to use the REST endpoints, the requests should include either the operator session token or the API token for authentication purposes. The API token can be received by contacting our support.</p>

<h1 id="current-version">Current version</h1>

<p>The current API version is <strong>v1</strong>  and this must be explicitly set while sending a request <code>Accept</code>  header:</p>

<pre><code>Accept: application/vnd.salemove.v1+json
</code></pre>

<h1 id="schema">Schema</h1>

<p>All APIs are accessed over HTTPS from <code>api.salemove.com</code> domain. All data is sent and received as JSON.</p>

<pre><code>$ curl -i https://api.salemove.com/engagements HEADER_DATA

HTTP/1.1 200 OK
Date: Thu, 29 Jan 2015 11:44:37 GMT
Status: 200 OK
Connection: close
Content-Type: text/html;charset=utf-8
Access-Control-Allow-Origin: http://sm.dev:3001
Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS, PATCH
Access-Control-Allow-Headers: *, Content-Type, Accept, AUTHORIZATION, Cache-Control, X-Salemove-Visit-Session-Id
Access-Control-Allow-Credentials: true
Access-Control-Max-Age: 1728000
Access-Control-Expose-Headers: Cache-Control, Content-Language, Content-Type, Expires, Last-Modified, Pragma
Content-Length: 0
X-XSS-Protection: 1; mode=block
X-Content-Type-Options: nosniff
X-Frame-Options: SAMEORIGIN

[]
</code></pre>

<p>Blank fields are included as null instead of being omitted.</p>

<h2 id="datetime">DateTime</h2>
<p>All timestamps are formatted to ISO-8601</p>

<pre><code>YYYY-MM-DDTHH:MM:SSZ
</code></pre>

<h2 id="collections-or-list-of-resources">Collections or list of resources</h2>

<p>Requests that return multiple items are paginated to 30 items by default. You can specify further pages by setting the ?page parameter. In addition, it is possible to set a custom page size up to 100 with the ?per_page parameter.</p>

<h3 id="example">Example</h3>
<p>Fetching for all the operators returns the first 30 operators:</p>

<pre><code>GET /operators
</code></pre>

<p>In order to get the second page of the operators set the parameter <code>page</code> to <code>page=2</code>, e.g.:</p>

<pre><code>GET /operators?page=2
</code></pre>

<h3 id="next-and-last-page-links">Next and last page links</h3>
<p>The response of the paginated collections always contains the <code>last_page</code> element and, if available, the <code>next_page&lt;</code> element with corresponding URI. It is strongly recommended to follow these references, instead of constructing your own URLs.</p>

<h4 id="example-1">Example</h4>
<p>An example of an arbitrary collection response:</p>

<pre><code>{
    'next_page' =&gt; 'http://api.salemove.com/collections?page=2',
    'last_page' =&gt; 'http://api.salemove.com/collections?page=3',
    'collection' =&gt; [
      {
        "href" =&gt; "http://api.salemove.com/collections/1',
        "attribute" =&gt; 'value,
        ...
      },
      {
        "href" =&gt; "http://api.salemove.com/collections/2',
        "attribute" =&gt; 'value',
        ...
      },
    ]
}
</code></pre>

<h1 id="client-errors">Client errors</h1>

<p>In case of invalid request, an error is thrown. The response is returned as JSON describing the error. In addition, in most of the cases the response includes both the error and a debug message. This information can be further used to troubleshoot problems.</p>

<pre><code>HTTP/1.1 400 400
{
  error: 'BadRequest',
  message: 'Invalid api version used',
  debug_message: 'Invalid api version used. Make sure you set the "Accept" header with API version e.g. "application/vnd.salemove.v1+json"'
}
</code></pre>

<h1 id="http-verbs">HTTP Verbs</h1>

<p>Where possible, API strives to use appropriate HTTP verbs for each
action.</p>

<table>
  <thead>
    <tr>
      <th>Verb</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>HEAD</code></td>
      <td>Can be issued against any resource to get just the HTTP header info.</td>
    </tr>
    <tr>
      <td><code>GET</code></td>
      <td>Used for retrieving resources.</td>
    </tr>
    <tr>
      <td><code>POST</code></td>
      <td>Used for creating resources.</td>
    </tr>
    <tr>
      <td><code>PATCH</code></td>
      <td>Used for updating resources with partial JSON data.  For instance, an Issue resource has <code>title</code> and <code>body</code> attributes.  A PATCH request may accept one or more of the attributes to update the resource.  PATCH is a relatively new and uncommon HTTP verb, so resource endpoints also accept <code>POST</code> requests.</td>
    </tr>
    <tr>
      <td><code>PUT</code></td>
      <td>Used for replacing resources or collections. For <code>PUT</code> requests with no <code>body</code> attribute, be sure to set the <code>Content-Length</code> header to zero.</td>
    </tr>
    <tr>
      <td><code>DELETE</code></td>
      <td>Used for deleting resources.</td>
    </tr>
  </tbody>
</table>

<h1 id="cross-origin-resource-sharing">Cross Origin Resource Sharing</h1>

<p>The API supports Cross Origin Resource Sharing (CORS) for AJAX requests from any origin. You can read the CORS W3C Recommendation, or the intro from the HTML 5 Security Guide.</p>


</section>
<aside id="sidebar">
  <h1>Overview</h1>
    <p class="view"><a href="https://github.com/salemove/developer">View the Project on GitHub <small>salemove/developer</small></a></p>

  <h2><a href="#" class="js-expand-btn collapsed arrow-btn" data-proofer-ignore=""></a><a href="index.html">Overview</a></h2>
  <ul class="js-guides">
    <li><a href="operator.html">Operator</a></li>
    <li><a href="visitor.html">Visitor</a></li>
  
  


      <footer>
        <p>This project is maintained by <a href="https://github.com/salemove">SaleMove</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>

</ul></aside></div>
